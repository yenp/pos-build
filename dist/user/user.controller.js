"use strict";var __decorate=this&&this.__decorate||function(e,t,r,a){var o,s=arguments.length,n=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,a);else for(var i=e.length-1;0<=i;i--)(o=e[i])&&(n=(s<3?o(n):3<s?o(t,r,n):o(t,r))||n);return 3<s&&n&&Object.defineProperty(t,r,n),n},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(r,a){return function(e,t){a(e,t,r)}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.UserController=void 0;const common_1=require("@nestjs/common"),user_service_1=require("./user.service"),jwt_user_guard_1=require("../auth/jwt-user.guard"),joi_validation_pipe_1=require("../pipes/joi-validation.pipe"),create_schema_1=require("../validation/create.schema");let UserController=class{constructor(e){this.userService=e}async users(){return this.userService.find()}async create(e){return this.userService.create(e)}async update(e){return this.userService.update(e)}async user(e){return this.userService.findById(e.id)}};exports.UserController=UserController,__decorate([(0,common_1.Get)("/list"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",Promise)],UserController.prototype,"users",null),__decorate([(0,common_1.Put)("create"),(0,common_1.UsePipes)(new joi_validation_pipe_1.ValidationPipe(create_schema_1.createUserJoi)),__param(0,(0,common_1.Body)()),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",Promise)],UserController.prototype,"create",null),__decorate([(0,common_1.Put)("update"),(0,common_1.UsePipes)(new joi_validation_pipe_1.ValidationPipe(create_schema_1.updateUserJoi)),__param(0,(0,common_1.Body)()),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",Promise)],UserController.prototype,"update",null),__decorate([(0,common_1.Get)("detail/:id"),__param(0,(0,common_1.Param)()),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",Promise)],UserController.prototype,"user",null),exports.UserController=UserController=__decorate([(0,common_1.UseGuards)(jwt_user_guard_1.JwtUserAuthGuard),(0,common_1.Controller)("user"),__metadata("design:paramtypes",[user_service_1.UserService])],UserController);